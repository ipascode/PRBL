<%= simple_form_for(@part) do |f| %>
  <%= f.error_notification id: 'user_error_message', class: 'form_error'%>

<div class="row">
  <div class="col-xs-12 col-md-6">
    <%= f.input :partname, label: "Part name" %>
  </div>
  <div class="col-xs-12 col-md-6">
    <%= f.input :part_number %>
  </div>
</div>

<div class="row"> 
  <div class="col-xs-6 col-md-6">
    <%= f.label :bus_model_id %>
    <%= f.collection_select :bus_model_id, BusModel.order(:brand), :id, :brand, {:include_blank => true}, {class: "form-control"} %>
  </div>
  <div class="col-xs-6 col-md-6">
    <%= f.input :index_number %>
  </div>
</div>

<div class="row">
  <div class="col-xs-6 col-md-6">
    <%= f.input :price %>
  </div>
  <div class="col-xs-6 col-md-6">
    <%= f.input :lifespan %>
  </div>
</div>

<div class="row">
  <div class="col-xs-6 col-md-6" >
    <%= f.input :group, collection: ["Tires"], as: :check_boxes, input_html: {id: "tires"} %>
  </div>
</div>
<div class="row">
  <div class="col-xs-12 col-md-12 col-lg-6">
    <%= f.simple_fields_for :parts_tire do |p| %>
    <%= p.input :serial_no, disabled: true, input_html: {class: "tire-field"} %>
    <%= p.input :bus_id, label_method: :bus_no, collection: @buses, input_html: {class: "tire-field", :disabled => "disabled"} %>
  </div>
  <div class="col-xs-12 col-md-6">
    <%= p.input :odometer, disabled: true, input_html: {id: "odometer", class: "tire-field"} %>
    <%= p.input :cpk, disabled: true, input_html: {class: "tire-field"} %>
    <% end %>
  </div>
</div>


<%= f.button :submit, :class => "btn btn-default" %>
<% end %>

<script>

$('#bus-selectize').selectize({
  
  });
$("#bus").prop("disabled", true); 

$(function () {
        $("#tires").click(function () {
            if ($(this).is(":checked")) {
                $(".tire-field").removeAttr("disabled");
                $("#bus").prop("disabled", false); 
            } 
        });
    });


</script>